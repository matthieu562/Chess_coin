{% extends "base.html" %}

{% block topbar %}
<nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

    <!-- Sidebar Toggle (Topbar) -->
    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
        <i class="fa fa-bars"></i>
    </button>

    <div class="ml-2 my-auto">
        <form method="post" id="topbarAssetForm" class="mb-0">
            <div class="d-flex align-items-center border-left-primary rounded shadow-sm px-2"
                 style="height: 48px; background-color: #f8f9fc; min-width: 100px; max-width: 180px;">

                <select class="form-control form-control-sm border-0 bg-transparent text-dark font-weight-bold p-0"
                        id="topbarAssetSelect"
                        style="font-size: 0.85rem;">
                    {% for asset in assets %}
                        <option value="{{ asset }}" {% if asset == session['selected_asset'] %}selected{% endif %}>
                            {{ asset }}
                        </option>
                    {% endfor %}
                </select>

            </div>
        </form>
    </div>

    <div class="elo-block ml-2 mr-3 my-auto">
        <div class="card border-left-primary shadow" style="height: 48px; min-width: 200px;">
            <div class="card-body py-1 px-3 d-flex align-items-center h-100">
                <div class="row no-gutters align-items-center w-100">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-primary text-uppercase mb-1" style="line-height: 1;">
                            ELO Rapid
                        </div>
                        <div class="h6 mb-0 font-weight-bold text-gray-800" id="eloRapid">
                            {{ elo_rapid }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fa fa-flag fa-lg text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Topbar Navbar -->
    <ul class="navbar-nav ml-auto">

        <!-- Nav Item - User Information -->
        <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                {% if username %}
                    <span class="mr-2 d-none d-lg-inline text-gray-600 large"> {{ username }} </span>
                {%  endif %}
                <i class="fa fa-user-secret fa-lg fa-fw mr-2 icon-blue"></i>
            </a>
            <!-- Dropdown - User Information -->
            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                aria-labelledby="userDropdown">

                {% if username %}
                    <a class="dropdown-item" href="{{ url_for('auth.logout') }}">
                        <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                        Logout
                    </a>
                {% else %}
                    <a class="dropdown-item" href="{{ url_for('auth.login') }}">
                        <i class="fas fa-sign-in-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                        Login
                    </a>
                {% endif %}

            </div>
        </li>
    </ul>
</nav>

{%  endblock %}

